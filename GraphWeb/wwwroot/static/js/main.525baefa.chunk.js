(this["webpackJsonpgraph-frontend"]=this["webpackJsonpgraph-frontend"]||[]).push([[0],{213:function(e,t,n){},387:function(e,t,n){},390:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(22),l=n.n(r),c=(n(213),n(30)),i=n(193),s=n.n(i),o=function(){return s.a.create({baseURL:"https://localhost:5001"})},d=n(205),h=function(){var e=Object(a.useState)(!1),t=Object(c.a)(e,2),n=t[0],r=t[1];return{configure:function(e){return r(!0),o().post("/config/new",e).then((function(){d.b.success("\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u043c\u043e\u0434\u0435\u043b\u0438 \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"),r(!1)})).catch((function(e){d.b.error("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: "+e.message),console.log(e),r(!1)}))},loading:n}},b=function(){var e=Object(a.useState)({}),t=Object(c.a)(e,2),n=t[0],r=t[1];return{data:n,fetch:function(){o().get("/graph/state").then((function(e){r(e.data)})).catch((function(e){console.log(e)}))}}},j=n(198),u=n.n(j),p=n(397),x=n(393),g=n(394),w=n(7),O=p.a.Text,f=function(e){var t=e.isStartedModel,n=e.nodesInColumn,r=e.time,l=e.interval,i=e.changeModel,s=b(),o=s.data,d=s.fetch,h=Object(a.useState)(0),j=Object(c.a)(h,2),p=j[0],f=j[1];Object(a.useEffect)((function(){if(t&&p<r){var e=setInterval((function(){f(p+1),d()}),l);return function(){return clearInterval(e)}}}),[d,f,t,p,l,r]),Object(a.useEffect)((function(){i(o)}),[o,i]);var m=o.nodes||[];m.forEach((function(e,t){var a;e.label=e.id.toString(),e.color=0===(a=e.state)?"#00bb00":1===a?"#FFED3D":"#bb0000",e.level=t%n+1}));var C=function(e){var t=[];return m.forEach((function(a){a.level!==n&&t.push({from:a.id,to:a.id+1}),t.push({from:a.id,to:a.id+e})})),t}(n);return Object(w.jsxs)(x.a,{style:{marginBottom:"50px"},children:[Object(w.jsx)("div",{style:{width:"80vw",margin:"20px auto"},children:Object(w.jsxs)(x.a,{gutter:[20,20],justify:"space-between",children:[Object(w.jsx)(g.a,{span:8,children:Object(w.jsxs)(O,{children:["\u041a\u043e\u043b-\u0432\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0449\u0438\u0445 \u0443\u0437\u043b\u043e\u0432:"," ",Object(w.jsx)(O,{type:"success",strong:!0,children:o.workingNodeCount||0})]})}),Object(w.jsx)(g.a,{span:8,children:Object(w.jsxs)(O,{children:["\u041a\u043e\u043b-\u0432\u043e \u0443\u0437\u043b\u043e\u0432 \u0432 \u0441\u0435\u0440\u0432\u0438\u0441\u0435:"," ",Object(w.jsx)(O,{type:"warning",strong:!0,children:o.serviceNodeCount||0})]})}),Object(w.jsx)(g.a,{span:8,children:Object(w.jsxs)(O,{children:["\u041a\u043e\u043b-\u0432\u043e \u043d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u044b\u0445 \u0443\u0437\u043b\u043e\u0432:"," ",Object(w.jsx)(O,{type:"danger",strong:!0,children:o.defectiveNodeCount||0})]})}),Object(w.jsx)(g.a,{span:8,children:Object(w.jsxs)(O,{children:["\u0420\u0435\u0441\u0443\u0440\u0441\u043e\u0432 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c: ",Object(w.jsx)(O,{strong:!0,children:o.resourceCount||0})]})}),Object(w.jsx)(g.a,{span:8,children:Object(w.jsxs)(O,{children:["\u041f\u0440\u043e\u0448\u0435\u0434\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f: ",Object(w.jsx)(O,{strong:!0,children:o.elapsedTime||0})]})})]})}),Object(w.jsx)(u.a,{style:{width:"100%",height:"600px",background:"#f5f5f5",borderTop:"solid 1px rgba(0,0,0,.1)",borderBottom:"solid 1px rgba(0,0,0,.1)"},graph:{nodes:m,edges:C},options:{layout:{hierarchical:!0},physics:!1,interaction:{dragNodes:!1,selectable:!1},nodes:{shape:"dot",size:28,font:{size:24,color:"#222"},borderWidth:2},edges:{width:2}}})]})},m=n(395),C=n(400),y=n(398),v=n(399),T=n(396),P=n(402),N=n(401),S=n(46),I=n(6),k=n(202),M=function(){return document.querySelector(".vis-network canvas").toDataURL("image/png;base64;")};n(387);m.a.setDefaultIndicator(Object(w.jsx)(S.a,{style:{fontSize:24},spin:!0}));var R=p.a.Title,D=function(){var e=h(),t=e.configure,n=e.loading,r=Object(a.useState)(!1),l=Object(c.a)(r,2),i=l[0],s=l[1],o=Object(a.useState)(!1),d=Object(c.a)(o,2),b=d[0],j=d[1],u=Object(a.useState)(5),p=Object(c.a)(u,2),O=p[0],m=p[1],S=Object(a.useState)(),D=Object(c.a)(S,2),E=D[0],H=D[1],q=Object(a.useState)(),L=Object(c.a)(q,2),V=L[0],A=L[1],_=Object(a.useState)(100),z=Object(c.a)(_,2),B=z[0],G=z[1],W=Object(a.useState)(1e3),F=Object(c.a)(W,2),J=F[0],U=F[1];return Object(w.jsxs)(C.a.Content,{children:[Object(w.jsx)(x.a,{style:{width:"80vw",margin:"20px auto"},children:Object(w.jsxs)(y.a,{onFinish:function(e){console.log(e);var n=e.workingNodeCount+e.serviceNodeCount+e.defectiveNodeCount,a={NodeCount:n,WorkingNodeCount:e.workingNodeCount,ServiceNodeCount:e.serviceNodeCount,DefectiveNodeCount:e.defectiveNodeCount,WorkingTimeMilliseconds:e.workingTimeMilliseconds,ServiceTimeMilliseconds:e.serviceTimeMilliseconds,RepairTimeMilliseconds:e.repairTimeMilliseconds,ResourceCount:e.resourceCount,ServicePrice:e.servicePrice};m(Math.round(Math.sqrt(n))),t(a).then((function(){H(a),j(!0)}))},style:{width:"100%",border:"1px solid rgba(0,0,0,.1)",padding:"20px"},children:[Object(w.jsx)(R,{level:4,style:{marginBottom:"20px"},children:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043c\u043e\u0434\u0435\u043b\u0438"}),Object(w.jsxs)(x.a,{justify:"space-between",children:[Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(y.a.Item,{name:"workingNodeCount",label:"\u041a\u043e\u043b-\u0432\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0449\u0438\u0445 \u0443\u0437\u043b\u043e\u0432 (Su)",initialValue:20,rules:[{required:!0}],children:Object(w.jsx)(v.a,{})})}),Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(y.a.Item,{name:"workingTimeMilliseconds",label:"\u041a\u043e\u043b-\u0432\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435 \u0432 \u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445 (\u0422\u0433)",initialValue:3,rules:[{required:!0}],children:Object(w.jsx)(v.a,{})})})]}),Object(w.jsxs)(x.a,{justify:"space-between",children:[Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(y.a.Item,{name:"serviceNodeCount",label:"\u041a\u043e\u043b-\u0432\u043e \u0443\u0437\u043b\u043e\u0432 \u0432 \u0441\u0435\u0440\u0432\u0438\u0441\u0435 (So)",initialValue:20,rules:[{required:!0}],children:Object(w.jsx)(v.a,{})})}),Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(y.a.Item,{name:"serviceTimeMilliseconds",label:"\u041a\u043e\u043b-\u0432\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0432 \u0441\u0435\u0440\u0432\u0438\u0441\u0435 \u0432 \u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445 (\u0422o)",initialValue:4,rules:[{required:!0}],children:Object(w.jsx)(v.a,{})})})]}),Object(w.jsxs)(x.a,{justify:"space-between",children:[Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(y.a.Item,{name:"defectiveNodeCount",label:"\u041a\u043e\u043b-\u0432\u043e \u0434\u0435\u0444\u0435\u043a\u0442\u043d\u044b\u0445 \u0443\u0437\u043b\u043e\u0432 (Sh)",initialValue:10,rules:[{required:!0}],children:Object(w.jsx)(v.a,{})})}),Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(y.a.Item,{name:"repairTimeMilliseconds",label:"\u0412\u0440\u0435\u043c\u044f \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044f \u0432 \u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445 (\u0422p)",initialValue:0,rules:[{required:!0}],children:Object(w.jsx)(v.a,{})})})]}),Object(w.jsxs)(x.a,{justify:"space-between",children:[Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(y.a.Item,{name:"resourceCount",label:"\u041a\u043e\u043b-\u0432\u043e \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432 \u043d\u0430 \u043e\u0434\u0438\u043d \u0443\u0437\u0435\u043b",initialValue:1e4,rules:[{required:!0}],children:Object(w.jsx)(v.a,{})})}),Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(y.a.Item,{name:"servicePrice",label:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044f (Ro)",initialValue:15,rules:[{required:!0}],children:Object(w.jsx)(v.a,{})})})]}),Object(w.jsx)(T.a,{}),Object(w.jsxs)(x.a,{justify:"space-between",children:[Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(y.a.Item,{label:"\u0412\u0440\u0435\u043c\u044f \u043c\u043e\u0434\u0435\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f (\u043a\u043e\u043b-\u0432\u043e \u0442\u0438\u043a\u043e\u0432)",children:Object(w.jsx)(v.a,{onChange:function(e){return G(e)},value:B})})}),Object(w.jsx)(g.a,{span:12,children:Object(w.jsx)(y.a.Item,{label:"\u0412\u0440\u0435\u043c\u044f \u043e\u0434\u043d\u043e\u0433\u043e \u0442\u0438\u043a\u0430 (\u043a\u043e\u043b-\u0432\u043e \u043c\u0441)",children:Object(w.jsx)(v.a,{onChange:function(e){return U(e)},value:J})})})]}),Object(w.jsx)(T.a,{}),Object(w.jsx)(y.a.Item,{children:Object(w.jsxs)(x.a,{justify:"space-between",children:[Object(w.jsxs)(P.b,{children:[Object(w.jsx)(N.a,{disabled:b,loading:n,type:"primary",htmlType:"submit",children:"\u0421\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u044c"}),Object(w.jsx)(N.a,{disabled:!b||i,type:"primary",onClick:function(){s(!0)},children:"\u0421\u0442\u0430\u0440\u0442"}),Object(w.jsx)(N.a,{disabled:!i,type:"primary",danger:!0,onClick:function(){return s(!1)},children:"\u0421\u0442\u043e\u043f"})]}),Object(w.jsx)(N.a,{type:"primary",onClick:function(){return function(e,t){var n=M(),a=new I.Document({styles:{default:{heading1:{run:{size:32,bold:!0,italics:!1,color:"000000"},paragraph:{spacing:{after:240,before:150}}},heading2:{run:{size:26,bold:!1,italics:!1,color:"2E74B5"},paragraph:{spacing:{after:150,before:250}}}},paragraphStyles:[{id:"p",name:"paragraph",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{size:24,color:"000000"}}]},sections:[{properties:{},children:[new I.Paragraph({text:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043c\u043e\u0434\u0435\u043b\u0438",heading:I.HeadingLevel.HEADING_1}),new I.Paragraph({text:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b-\u0432\u043e \u0443\u0437\u043b\u043e\u0432",heading:I.HeadingLevel.HEADING_2}),new I.Table({rows:[new I.TableRow({children:[new I.TableCell({children:[new I.Paragraph({text:"\u041a\u043e\u043b-\u0432\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0449\u0438\u0445 \u0443\u0437\u043b\u043e\u0432 (Su)",style:"p"})]}),new I.TableCell({children:[new I.Paragraph({text:"\u041a\u043e\u043b-\u0432\u043e \u0443\u0437\u043b\u043e\u0432 \u0432 \u0441\u0435\u0440\u0432\u0438\u0441\u0435 (So)",style:"p"})]}),new I.TableCell({children:[new I.Paragraph({text:"\u041a\u043e\u043b-\u0432\u043e \u0434\u0435\u0444\u0435\u043a\u0442\u043d\u044b\u0445 \u0443\u0437\u043b\u043e\u0432 (Sh)",style:"p"})]})]}),new I.TableRow({children:[new I.TableCell({children:[new I.Paragraph({text:"".concat(e.WorkingNodeCount),style:"p"})]}),new I.TableCell({children:[new I.Paragraph({text:"".concat(e.ServiceNodeCount),style:"p"})]}),new I.TableCell({children:[new I.Paragraph({text:"".concat(e.DefectiveNodeCount),style:"p"})]})]})]}),new I.Paragraph({text:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0432\u0440\u0435\u043c\u0435\u043d\u0438",heading:I.HeadingLevel.HEADING_2}),new I.Table({rows:[new I.TableRow({children:[new I.TableCell({children:[new I.Paragraph({text:"\u041a\u043e\u043b-\u0432\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435 \u0432 \u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445 (\u0422\u0433)",style:"p"})]}),new I.TableCell({children:[new I.Paragraph({text:"\u041a\u043e\u043b-\u0432\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0432 \u0441\u0435\u0440\u0432\u0438\u0441\u0435 \u0432 \u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445 (\u0422o)",style:"p"})]}),new I.TableCell({children:[new I.Paragraph({text:"\u0412\u0440\u0435\u043c\u044f \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044f \u0432 \u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445 (\u0422p)",style:"p"})]})]}),new I.TableRow({children:[new I.TableCell({children:[new I.Paragraph({text:"".concat(e.WorkingTimeMilliseconds),style:"p"})]}),new I.TableCell({children:[new I.Paragraph({text:"".concat(e.ServiceTimeMilliseconds),style:"p"})]}),new I.TableCell({children:[new I.Paragraph({text:"".concat(e.RepairTimeMilliseconds),style:"p"})]})]})]}),new I.Paragraph({text:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432",heading:I.HeadingLevel.HEADING_2}),new I.Table({rows:[new I.TableRow({children:[new I.TableCell({children:[new I.Paragraph({text:"\u041a\u043e\u043b-\u0432\u043e \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432 \u043d\u0430 \u043e\u0434\u0438\u043d \u0443\u0437\u0435\u043b",style:"p"})]}),new I.TableCell({children:[new I.Paragraph({text:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044f (Ro)",style:"p"})]})]}),new I.TableRow({children:[new I.TableCell({children:[new I.Paragraph({text:"".concat(e.ResourceCount),style:"p"})]}),new I.TableCell({children:[new I.Paragraph({text:"".concat(e.ServicePrice),style:"p"})]})]})]}),new I.Paragraph({text:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043d\u0430 \u043a\u043e\u043d\u0435\u0446 \u043c\u043e\u0434\u0435\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f",heading:I.HeadingLevel.HEADING_1}),new I.Table({rows:[new I.TableRow({children:[new I.TableCell({children:[new I.Paragraph({text:"\u041a\u043e\u043b-\u0432\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0449\u0438\u0445 \u0443\u0437\u043b\u043e\u0432 (Su)",style:"p"})]}),new I.TableCell({children:[new I.Paragraph({text:"\u041a\u043e\u043b-\u0432\u043e \u0443\u0437\u043b\u043e\u0432 \u0432 \u0441\u0435\u0440\u0432\u0438\u0441\u0435 (So)",style:"p"})]}),new I.TableCell({children:[new I.Paragraph({text:"\u041a\u043e\u043b-\u0432\u043e \u0434\u0435\u0444\u0435\u043a\u0442\u043d\u044b\u0445 \u0443\u0437\u043b\u043e\u0432 (Sh)",style:"p"})]}),new I.TableCell({children:[new I.Paragraph({text:"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432",style:"p"})]}),new I.TableCell({children:[new I.Paragraph({text:"\u041f\u0440\u043e\u0448\u0435\u0434\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f",style:"p"})]})]}),new I.TableRow({children:[new I.TableCell({children:[new I.Paragraph({text:"".concat(t.workingNodeCount),style:"p"})]}),new I.TableCell({children:[new I.Paragraph({text:"".concat(t.serviceNodeCount),style:"p"})]}),new I.TableCell({children:[new I.Paragraph({text:"".concat(t.defectiveNodeCount),style:"p"})]}),new I.TableCell({children:[new I.Paragraph({text:"".concat(t.resourceCount),style:"p"})]}),new I.TableCell({children:[new I.Paragraph({text:"".concat(t.elapsedTime),style:"p"})]})]})]}),new I.Paragraph({text:"\u0413\u0440\u0430\u0444 \u043d\u0430 \u043a\u043e\u043d\u0435\u0446 \u043c\u043e\u0434\u0435\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f",heading:I.HeadingLevel.HEADING_1}),new I.Paragraph({children:[new I.ImageRun({data:n,transformation:{width:850,height:300}})]})]}]});I.Packer.toBlob(a).then((function(e){Object(k.saveAs)(e,"modeling_result.docx")}))}(E,V)},children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0432 docx"})]})})]})}),Object(w.jsx)(f,{nodesInColumn:O,isStartedModel:i,time:B,interval:J,changeModel:function(e){return function(e){A(e)}(e)}})]})};n(389);l.a.render(Object(w.jsx)(D,{}),document.getElementById("root"))}},[[390,1,2]]]);
//# sourceMappingURL=main.525baefa.chunk.js.map