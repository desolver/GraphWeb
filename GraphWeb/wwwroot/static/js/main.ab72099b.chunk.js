(this["webpackJsonpgraph-frontend"]=this["webpackJsonpgraph-frontend"]||[]).push([[0],{216:function(e,t,n){},390:function(e,t,n){},393:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n(22),l=n.n(r),c=(n(216),n(32)),i=n(196),s=n.n(i),o=function(){return s.a.create({baseURL:"https://localhost:5001"})},d=n(208),h=function(){var e=Object(a.useState)(!1),t=Object(c.a)(e,2),n=t[0],r=t[1];return{configure:function(e){return r(!0),o().post("/config/new",e).then((function(){d.b.success("\u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u043c\u043e\u0434\u0435\u043b\u0438 \u043f\u0440\u043e\u0448\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"),r(!1)})).catch((function(e){d.b.error("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430: "+e.message),console.log(e),r(!1)}))},loading:n}},b=function(){var e=Object(a.useState)({}),t=Object(c.a)(e,2),n=t[0],r=t[1];return{data:n,fetch:function(){o().get("/graph/state").then((function(e){r(e.data)})).catch((function(e){console.log(e)}))}}},j=n(201),u=n.n(j),p=n(400),x=n(396),g=n(397),w=n(406),O=n(405),f=n(7),m=p.a.Text,C=function(e){var t=e.isStartedModel,n=e.isConfig,r=e.nodesInColumn,l=e.time,i=e.interval,s=e.changeModel,o=e.startModel,d=e.stopModel,h=b(),j=h.data,p=h.fetch,C=Object(a.useState)(0),y=Object(c.a)(C,2),v=y[0],T=y[1];Object(a.useEffect)((function(){if(t&&v<l){var e=setInterval((function(){T(v+1),p()}),i);return function(){return clearInterval(e)}}}),[p,T,t,v,i,l]),Object(a.useEffect)((function(){s(j)}),[j,s]);var P=j.nodes||[];P.forEach((function(e,t){var n;e.label=e.id.toString(),e.color=0===(n=e.state)?"#00bb00":1===n?"#FFED3D":"#bb0000",e.level=t%r+1}));var N=function(e){var t=[];return P.forEach((function(n){n.level!==r&&t.push({from:n.id,to:n.id+1}),t.push({from:n.id,to:n.id+e})})),t}(r);return Object(f.jsxs)(x.a,{style:{marginBottom:"50px"},children:[Object(f.jsx)("div",{style:{width:"80vw",margin:"20px auto"},children:Object(f.jsxs)(x.a,{gutter:[20,20],justify:"space-between",children:[Object(f.jsx)(g.a,{span:8,children:Object(f.jsxs)(m,{children:["\u041a\u043e\u043b-\u0432\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0449\u0438\u0445 \u0443\u0437\u043b\u043e\u0432:"," ",Object(f.jsx)(m,{type:"success",strong:!0,children:j.workingNodeCount||0})]})}),Object(f.jsx)(g.a,{span:8,children:Object(f.jsxs)(m,{children:["\u041a\u043e\u043b-\u0432\u043e \u0443\u0437\u043b\u043e\u0432 \u0432 \u0441\u0435\u0440\u0432\u0438\u0441\u0435:"," ",Object(f.jsx)(m,{type:"warning",strong:!0,children:j.serviceNodeCount||0})]})}),Object(f.jsx)(g.a,{span:8,children:Object(f.jsxs)(m,{children:["\u041a\u043e\u043b-\u0432\u043e \u043d\u0435\u0438\u0441\u043f\u0440\u0430\u0432\u043d\u044b\u0445 \u0443\u0437\u043b\u043e\u0432:"," ",Object(f.jsx)(m,{type:"danger",strong:!0,children:j.defectiveNodeCount||0})]})}),Object(f.jsx)(g.a,{span:8,children:Object(f.jsxs)(m,{children:["\u0420\u0435\u0441\u0443\u0440\u0441\u043e\u0432 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c: ",Object(f.jsx)(m,{strong:!0,children:j.resourceCount||0})]})}),Object(f.jsx)(g.a,{span:8,children:Object(f.jsxs)(m,{children:["\u041f\u0440\u043e\u0448\u0435\u0434\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f: ",Object(f.jsx)(m,{strong:!0,children:j.elapsedTime||0})]})}),Object(f.jsx)(g.a,{span:8,children:Object(f.jsxs)(w.b,{children:[Object(f.jsx)(O.a,{disabled:!n||t,type:"primary",onClick:o,children:"\u0421\u0442\u0430\u0440\u0442"}),Object(f.jsx)(O.a,{disabled:!t,type:"primary",danger:!0,onClick:d,children:"\u0421\u0442\u043e\u043f"})]})})]})}),Object(f.jsx)(u.a,{style:{width:"100%",height:"600px",background:"#f5f5f5",borderTop:"solid 1px rgba(0,0,0,.1)",borderBottom:"solid 1px rgba(0,0,0,.1)"},graph:{nodes:P,edges:N},options:{layout:{hierarchical:!0},physics:!1,interaction:{dragNodes:!1,selectable:!1},nodes:{shape:"dot",size:28,font:{size:24,color:"#222"},borderWidth:2},edges:{width:2}}})]})},y=n(398),v=n(404),T=n(403),P=n(401),N=n(402),S=n(399),I=n(46),M=n(6),k=n(205),R=function(){return document.querySelector(".vis-network canvas").toDataURL("image/png;base64;")};n(390);y.a.setDefaultIndicator(Object(f.jsx)(I.a,{style:{fontSize:24},spin:!0}));var D=p.a.Title,E=v.a.Panel,H=function(){var e=h(),t=e.configure,n=e.loading,r=Object(a.useState)(!1),l=Object(c.a)(r,2),i=l[0],s=l[1],o=Object(a.useState)(!1),d=Object(c.a)(o,2),b=d[0],j=d[1],u=Object(a.useState)(5),p=Object(c.a)(u,2),w=p[0],m=p[1],y=Object(a.useState)(),I=Object(c.a)(y,2),H=I[0],q=I[1],A=Object(a.useState)(),L=Object(c.a)(A,2),V=L[0],_=L[1],z=Object(a.useState)(100),B=Object(c.a)(z,2),G=B[0],W=B[1],F=Object(a.useState)(1e3),J=Object(c.a)(F,2),U=J[0],K=J[1];return Object(f.jsxs)(T.a.Content,{children:[Object(f.jsx)(x.a,{style:{width:"80vw",margin:"20px auto"},children:Object(f.jsx)(v.a,{style:{width:"100%"},defaultActiveKey:"1",children:Object(f.jsx)(E,{header:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043c\u043e\u0434\u0435\u043b\u0438",children:Object(f.jsxs)(P.a,{onFinish:function(e){console.log(e);var n=e.workingNodeCount+e.serviceNodeCount+e.defectiveNodeCount,a={NodeCount:n,WorkingNodeCount:e.workingNodeCount,ServiceNodeCount:e.serviceNodeCount,DefectiveNodeCount:e.defectiveNodeCount,WorkingTimeMilliseconds:e.workingTimeMilliseconds,ServiceTimeMilliseconds:e.serviceTimeMilliseconds,RepairTimeMilliseconds:e.repairTimeMilliseconds,ResourceCount:e.resourceCount,ServicePrice:e.servicePrice},r=Math.round(Math.sqrt(n)/2);m(r),t(a).then((function(){q(a),j(!0)}))},style:{width:"100%",padding:"20px"},children:[Object(f.jsx)(D,{level:4,style:{marginBottom:"20px"},children:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043c\u043e\u0434\u0435\u043b\u0438"}),Object(f.jsxs)(x.a,{justify:"space-between",children:[Object(f.jsx)(g.a,{span:12,children:Object(f.jsx)(P.a.Item,{name:"workingNodeCount",label:"\u041a\u043e\u043b-\u0432\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0449\u0438\u0445 \u0443\u0437\u043b\u043e\u0432 (Su)",initialValue:20,rules:[{required:!0}],children:Object(f.jsx)(N.a,{})})}),Object(f.jsx)(g.a,{span:12,children:Object(f.jsx)(P.a.Item,{name:"workingTimeMilliseconds",label:"\u041a\u043e\u043b-\u0432\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435 (\u0422\u0433)",initialValue:3,rules:[{required:!0}],children:Object(f.jsx)(N.a,{})})})]}),Object(f.jsxs)(x.a,{justify:"space-between",children:[Object(f.jsx)(g.a,{span:12,children:Object(f.jsx)(P.a.Item,{name:"serviceNodeCount",label:"\u041a\u043e\u043b-\u0432\u043e \u0443\u0437\u043b\u043e\u0432 \u0432 \u0441\u0435\u0440\u0432\u0438\u0441\u0435 (So)",initialValue:20,rules:[{required:!0}],children:Object(f.jsx)(N.a,{})})}),Object(f.jsx)(g.a,{span:12,children:Object(f.jsx)(P.a.Item,{name:"serviceTimeMilliseconds",label:"\u041a\u043e\u043b-\u0432\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0432 \u0441\u0435\u0440\u0432\u0438\u0441\u0435 (\u0422o)",initialValue:4,rules:[{required:!0}],children:Object(f.jsx)(N.a,{})})})]}),Object(f.jsxs)(x.a,{justify:"space-between",children:[Object(f.jsx)(g.a,{span:12,children:Object(f.jsx)(P.a.Item,{name:"defectiveNodeCount",label:"\u041a\u043e\u043b-\u0432\u043e \u0434\u0435\u0444\u0435\u043a\u0442\u043d\u044b\u0445 \u0443\u0437\u043b\u043e\u0432 (Sh)",initialValue:10,rules:[{required:!0}],children:Object(f.jsx)(N.a,{})})}),Object(f.jsx)(g.a,{span:12,children:Object(f.jsx)(P.a.Item,{name:"repairTimeMilliseconds",label:"\u0412\u0440\u0435\u043c\u044f \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044f (\u0422p)",initialValue:0,rules:[{required:!0}],children:Object(f.jsx)(N.a,{})})})]}),Object(f.jsxs)(x.a,{justify:"space-between",children:[Object(f.jsx)(g.a,{span:12,children:Object(f.jsx)(P.a.Item,{name:"resourceCount",label:"\u041a\u043e\u043b-\u0432\u043e \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432 \u043d\u0430 \u043e\u0434\u0438\u043d \u0443\u0437\u0435\u043b",initialValue:1e4,rules:[{required:!0}],children:Object(f.jsx)(N.a,{})})}),Object(f.jsx)(g.a,{span:12,children:Object(f.jsx)(P.a.Item,{name:"servicePrice",label:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044f (Ro)",initialValue:15,rules:[{required:!0}],children:Object(f.jsx)(N.a,{})})})]}),Object(f.jsx)(S.a,{}),Object(f.jsxs)(x.a,{justify:"space-between",children:[Object(f.jsx)(g.a,{span:12,children:Object(f.jsx)(P.a.Item,{label:"\u0412\u0440\u0435\u043c\u044f \u043c\u043e\u0434\u0435\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f (\u0435\u0434\u0438\u043d\u0438\u0446 \u0432\u0440\u0435\u043c\u0435\u043d\u0438)",children:Object(f.jsx)(N.a,{onChange:function(e){return W(e)},value:G})})}),Object(f.jsx)(g.a,{span:12,children:Object(f.jsx)(P.a.Item,{label:"\u0427\u0430\u0441\u0442\u043e\u0442\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043c\u043e\u0434\u0435\u043b\u0438 (\u043a\u043e\u043b-\u0432\u043e \u043c\u0441)",children:Object(f.jsx)(N.a,{onChange:function(e){return K(e)},value:U})})})]}),Object(f.jsx)(S.a,{}),Object(f.jsx)(P.a.Item,{children:Object(f.jsxs)(x.a,{justify:"space-between",children:[Object(f.jsx)(O.a,{disabled:b,loading:n,type:"primary",htmlType:"submit",children:"\u0421\u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u043e\u0434\u0435\u043b\u044c"}),Object(f.jsx)(O.a,{type:"primary",onClick:function(){return function(e,t){var n=R(),a=new M.Document({styles:{default:{heading1:{run:{size:32,bold:!0,italics:!1,color:"000000"},paragraph:{spacing:{after:240,before:150}}},heading2:{run:{size:26,bold:!1,italics:!1,color:"2E74B5"},paragraph:{spacing:{after:150,before:250}}}},paragraphStyles:[{id:"p",name:"paragraph",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{size:24,color:"000000"}}]},sections:[{properties:{},children:[new M.Paragraph({text:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043c\u043e\u0434\u0435\u043b\u0438",heading:M.HeadingLevel.HEADING_1}),new M.Paragraph({text:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b-\u0432\u043e \u0443\u0437\u043b\u043e\u0432",heading:M.HeadingLevel.HEADING_2}),new M.Table({rows:[new M.TableRow({children:[new M.TableCell({children:[new M.Paragraph({text:"\u041a\u043e\u043b-\u0432\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0449\u0438\u0445 \u0443\u0437\u043b\u043e\u0432 (Su)",style:"p"})]}),new M.TableCell({children:[new M.Paragraph({text:"\u041a\u043e\u043b-\u0432\u043e \u0443\u0437\u043b\u043e\u0432 \u0432 \u0441\u0435\u0440\u0432\u0438\u0441\u0435 (So)",style:"p"})]}),new M.TableCell({children:[new M.Paragraph({text:"\u041a\u043e\u043b-\u0432\u043e \u0434\u0435\u0444\u0435\u043a\u0442\u043d\u044b\u0445 \u0443\u0437\u043b\u043e\u0432 (Sh)",style:"p"})]})]}),new M.TableRow({children:[new M.TableCell({children:[new M.Paragraph({text:"".concat(e.WorkingNodeCount),style:"p"})]}),new M.TableCell({children:[new M.Paragraph({text:"".concat(e.ServiceNodeCount),style:"p"})]}),new M.TableCell({children:[new M.Paragraph({text:"".concat(e.DefectiveNodeCount),style:"p"})]})]})]}),new M.Paragraph({text:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0432\u0440\u0435\u043c\u0435\u043d\u0438",heading:M.HeadingLevel.HEADING_2}),new M.Table({rows:[new M.TableRow({children:[new M.TableCell({children:[new M.Paragraph({text:"\u041a\u043e\u043b-\u0432\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435 \u0432 \u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445 (\u0422\u0433)",style:"p"})]}),new M.TableCell({children:[new M.Paragraph({text:"\u041a\u043e\u043b-\u0432\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0432 \u0441\u0435\u0440\u0432\u0438\u0441\u0435 \u0432 \u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445 (\u0422o)",style:"p"})]}),new M.TableCell({children:[new M.Paragraph({text:"\u0412\u0440\u0435\u043c\u044f \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044f \u0432 \u0441\u0435\u043a\u0443\u043d\u0434\u0430\u0445 (\u0422p)",style:"p"})]})]}),new M.TableRow({children:[new M.TableCell({children:[new M.Paragraph({text:"".concat(e.WorkingTimeMilliseconds),style:"p"})]}),new M.TableCell({children:[new M.Paragraph({text:"".concat(e.ServiceTimeMilliseconds),style:"p"})]}),new M.TableCell({children:[new M.Paragraph({text:"".concat(e.RepairTimeMilliseconds),style:"p"})]})]})]}),new M.Paragraph({text:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432",heading:M.HeadingLevel.HEADING_2}),new M.Table({rows:[new M.TableRow({children:[new M.TableCell({children:[new M.Paragraph({text:"\u041a\u043e\u043b-\u0432\u043e \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432 \u043d\u0430 \u043e\u0434\u0438\u043d \u0443\u0437\u0435\u043b",style:"p"})]}),new M.TableCell({children:[new M.Paragraph({text:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043e\u0431\u0441\u043b\u0443\u0436\u0438\u0432\u0430\u043d\u0438\u044f (Ro)",style:"p"})]})]}),new M.TableRow({children:[new M.TableCell({children:[new M.Paragraph({text:"".concat(e.ResourceCount),style:"p"})]}),new M.TableCell({children:[new M.Paragraph({text:"".concat(e.ServicePrice),style:"p"})]})]})]}),new M.Paragraph({text:"\u041f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u043d\u0430 \u043a\u043e\u043d\u0435\u0446 \u043c\u043e\u0434\u0435\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f",heading:M.HeadingLevel.HEADING_1}),new M.Table({rows:[new M.TableRow({children:[new M.TableCell({children:[new M.Paragraph({text:"\u041a\u043e\u043b-\u0432\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0449\u0438\u0445 \u0443\u0437\u043b\u043e\u0432 (Su)",style:"p"})]}),new M.TableCell({children:[new M.Paragraph({text:"\u041a\u043e\u043b-\u0432\u043e \u0443\u0437\u043b\u043e\u0432 \u0432 \u0441\u0435\u0440\u0432\u0438\u0441\u0435 (So)",style:"p"})]}),new M.TableCell({children:[new M.Paragraph({text:"\u041a\u043e\u043b-\u0432\u043e \u0434\u0435\u0444\u0435\u043a\u0442\u043d\u044b\u0445 \u0443\u0437\u043b\u043e\u0432 (Sh)",style:"p"})]}),new M.TableCell({children:[new M.Paragraph({text:"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u0440\u0435\u0441\u0443\u0440\u0441\u043e\u0432",style:"p"})]}),new M.TableCell({children:[new M.Paragraph({text:"\u041f\u0440\u043e\u0448\u0435\u0434\u0448\u0435\u0435 \u0432\u0440\u0435\u043c\u044f",style:"p"})]})]}),new M.TableRow({children:[new M.TableCell({children:[new M.Paragraph({text:"".concat(t.workingNodeCount),style:"p"})]}),new M.TableCell({children:[new M.Paragraph({text:"".concat(t.serviceNodeCount),style:"p"})]}),new M.TableCell({children:[new M.Paragraph({text:"".concat(t.defectiveNodeCount),style:"p"})]}),new M.TableCell({children:[new M.Paragraph({text:"".concat(t.resourceCount),style:"p"})]}),new M.TableCell({children:[new M.Paragraph({text:"".concat(t.elapsedTime),style:"p"})]})]})]}),new M.Paragraph({text:"\u0413\u0440\u0430\u0444 \u043d\u0430 \u043a\u043e\u043d\u0435\u0446 \u043c\u043e\u0434\u0435\u043b\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f",heading:M.HeadingLevel.HEADING_1}),new M.Paragraph({children:[new M.ImageRun({data:n,transformation:{width:850,height:300}})]})]}]});M.Packer.toBlob(a).then((function(e){Object(k.saveAs)(e,"modeling_result.docx")}))}(H,V)},children:"\u042d\u043a\u0441\u043f\u043e\u0440\u0442 \u0432 docx"})]})})]})},"1")})}),Object(f.jsx)(C,{nodesInColumn:w,isStartedModel:i,isConfig:b,time:G,interval:U,changeModel:function(e){return function(e){_(e)}(e)},startModel:function(){s(!0)},stopModel:function(){return s(!1)}})]})};n(392);l.a.render(Object(f.jsx)(H,{}),document.getElementById("root"))}},[[393,1,2]]]);
//# sourceMappingURL=main.ab72099b.chunk.js.map